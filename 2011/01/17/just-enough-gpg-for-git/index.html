<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="The developer and personal blog of
                                          Abizer Nasir, a freelance iOS and OS X
                                          developer in London, UK">
        <meta name="author" content="Abizer Nasir">
        <title>Abizern.org - Just Enough GPG for git</title>
        <link rel="canonical" href="http://abizern.org">
        <link href="../../../../favicon.png" rel="icon" type="image/png">
        <link rel="stylesheet" type="text/css" href="../../../../css/main.css">
        <link href="../../../../atom.xml" rel="alternate" title="Abizern.org - A personal and developer blog" type="application/atom+xml">
        <link type="text/plain" rel="author" href="../../../../humans.txt">
        <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5015208-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

        </script>
    </head>

    <body>
        <header id="page_header">
    <h1><a href="../../../../" title="Home">Abizer Nasir</a></h1>
</header>

        <nav id="page_navigation">
    <ul>
        <li><a href="../../../../">Home</a></li>
        <li><a href="../../../../about">About</a></li>
        <li><a href="../../../../archive">Archive</a></li>
        <li><a href="../../../../notes">Notes</a></li>
    </ul>
</nav>

        
        <section id="content">
            <article>
    <header>
        <h1>Just Enough GPG for git</h1>
        <span class="post-date">January 17, 2011</span> in 
        <span class="post-tags"><a href="../../../../tags/osx/">osx</a>, <a href="../../../../tags/git/">git</a></span>
    </header>
    <p>It came about that I wanted to do some work with git and signed tags. It’s been a while since I had looked at this, I’ve got some old entries up on keyservers that date back to 1999, and never on a Mac.</p>
<p>It turns out that it is quite simple to set up a minimal <a href="http://en.wikipedia.org/wiki/Pretty_Good_Privacy">GPG</a> environment – one that lets you work on the command line without having to set it up for Mail.app. This is about all I need it for.</p>
<p>The <a href="http://www.gpgtools.org/index.html">GPGTools project</a> has recently resurrected the <a href="http://macgpg.sourceforge.net/">MacGPG project</a> to provide email encryption and tools to the Mac. It is still in development, and I didn’t want to mess about with my Mail installation so rather than install the complete set of tools, I chose to install <a href="http://www.gpgtools.org/macgpg2.html">MacGPG2</a> and <a href="http://www.gpgtools.org/keychain.html">GPGKeychain Access</a></p>
<p><a href="http://www.gpgtools.org/macgpg2.html">MacGPG2</a> is the <a href="http://en.wikipedia.org/wiki/Pretty_Good_Privacy#OpenPGP">OpenPGP</a> implementation for the Mac. This installs gpg2 into /usr/local/bin and gpg is symlinked to gpg2. I only mention this because although the commands can all be issued as gpg, you get to the documentation by using man gpg2, not man gpg. Installation is through an installer package.</p>
<p><a href="http://www.gpgtools.org/keychain.html">GPGKeychain Access</a> does not integrate with the Mac Keychain as the name might suggest, but provides a window to look at and manage the keys that you have on your system. These are usually under ~/.gnupg/ Run the installer, and create your keys. It’s quite simple and there is a video on the project page. However, there are a couple of things that you should keep in mind. If you forget your passphrase you can’t use your private key anymore. And if you’ve published the key, you won’t be able to revoke it and it will just sit around on keyservers. So, set an expiry date on your keys in case you do lose the private key or passphrase. As the expiry date comes up just extend it again.</p>
<p>There is no key-server configured. There seems to be a ticket for this to be implemented in some future milestone. Until then, create a file called gpg.conf under ~/.gnupg and put this line in it:</p>
<pre><code>keyserver hkp://pgp.mit.edu</code></pre>
<p>And that is just enough so that when you use the menu items that send and get keys from keyservers they will work. As far as I know, these servers talk to each other, so writing to one makes the key visible on the others.</p>
<p>Synchronisation of keys is an issue. If you are adventurous you could add more entries to the gpg.conf file to use a central location for the keyrings, somewhere like Dropbox or iDisk, so that all your machines can use the same files. But, it’s just as easy to export the keys as text and use those files to keep different machines in sync. Partcularly if you will be using gpg rarely.</p>
<p>This has been a companion piece to the non-Mac centric <a href="http://365git.tumblr.com/">365Git</a> post about <a href="http://365git.tumblr.com/post/2796779828/signing-a-git-tag">signed tags</a>.</p>
</article>

        </section>

        <footer id="page_footer">
    <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC-4.0</a>
    —
    Built with 
    <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
    —
    Source on 
    <a href="https://github.com/Abizern/hblog">GitHub</a>
    —
    <a href="http://abizern.org/atom.xml">RSS feed</a>
</footer>

    </body>
</html>
