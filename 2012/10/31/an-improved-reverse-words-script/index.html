<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="The developer and personal blog of
                                          Abizer Nasir, a freelance iOS and OS X
                                          developer in London, UK">
        <meta name="author" content="Abizer Nasir">
        <title>Abizern.org - An Improved Reverse Words Script</title>
        <link rel="canonical" href="http://abizern.org">
        <link rel="icon" href="../../../../favicon.png" type="image/png">
        <link rel="apple-touch-icon" sizes="60x60" href="../../../../images/favicon-60.png" type="image/png">
        <link rel="apple-touch-icon" sizes="76x76" href="../../../../images/favicon-76.png" type="image/png">
        <link rel="apple-touch-icon" sizes="120x120" href="../../../../images/favicon-120.png" type="image/png">
        <link rel="apple-touch-icon" sizes="152x152" href="../../../../images/favicon-152.png" type="image/png">
        <link rel="stylesheet" type="text/css" href="../../../../css/main.css">
        <link href="../../../../atom.xml" rel="alternate" title="Abizern.org - A personal and developer blog" type="application/atom+xml">
        <link type="text/plain" rel="author" href="../../../../humans.txt">
        <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5015208-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

        </script>
    </head>

    <body>
        <header id="page_header">
    <h1><a href="../../../../" title="Home">Abizer Nasir</a></h1>
</header>

        <nav id="page_navigation">
    <ul>
        <li><a href="../../../../">Home</a></li>
        <li><a href="../../../../about">About</a></li>
        <li><a href="../../../../archive">Archive</a></li>
        <li><a href="../../../../notes">Notes</a></li>
        <li><a href="../../../../talks">Talks</a></li>
    </ul>
</nav>

        
        <section id="content">
            <article>
    <header>
        <h1>An Improved Reverse Words Script</h1>
        <span class="post-date">October 31, 2012</span> in 
        <span class="post-tags"><a href="../../../../tags/haskell/">haskell</a></span>
    </header>
    <p>About 6 months ago I posted <a href="http://abizern.org/2012/04/09/reverse-words-with-haskell/">a solution</a> to the Google Code Jam problem <a href="http://code.google.com/codejam/contest/351101/dashboard#s=p1%20%22Original%20problem%20statement%22">Reverse Words</a></p>
<p>I’ve become more comfortable with Haskell since then, so here’s an improved solution.</p>
<figure>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">module</span> <span class="dt">Main</span> <span class="kw">where</span>

<span class="co">{-</span>
<span class="co">Problem statement:</span>
<span class="co">http://code.google.com/codejam/contest/351101/dashboard#s=p1</span>

<span class="co">Run as a script with runghc, or compile with ghc --make -O2</span>

<span class="co">input and output is by redirection;</span>

<span class="co">$ ./reverse_words &lt; input_file &gt; output_file</span>
<span class="co"> -}</span>

<span class="kw">import </span><span class="dt">Control.Monad</span>

<span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> <span class="kw">do</span>
  n <span class="ot">&lt;-</span> readLn
  forM_ [<span class="dv">1</span><span class="fu">..</span>n] <span class="fu">$</span> \i <span class="ot">-&gt;</span> <span class="kw">do</span>
    solution <span class="ot">&lt;-</span> fmap (unwords <span class="fu">.</span> reverse <span class="fu">.</span> words) getLine
    putStrLn <span class="fu">$</span> <span class="st">&quot;Case #&quot;</span> <span class="fu">++</span> show i <span class="fu">++</span> <span class="st">&quot;: &quot;</span> <span class="fu">++</span> solution</code></pre></div>
<figcaption>
Improved Reverse Words With Haskell <a href="https://gist.github.com/Abizern/3986006">view as gist</a>
</figcaption>
</figure>
<p>I’m not one who believes that shorter, terser code is necessarily better, but that isn’t what makes this version an improvement. Nor even the use of Monads; Haskell’s sexy buzzword. I think this code is better because it has less noise than the original solution.</p>
<p>Code Jam problems have well defined inputs and required outputs, and there is no need to load the whole input file when the script starts. Normally, I would be all for splitting out code into smaller, descriptively named functions, but in this small case that’s just more typing and more lines getting in the way of the actual solution. I think that this version is more readable because there are less lines of code that don’t contribute directly to the solution.</p>
<p>And Code Jam has a time limit, so smaller code is faster to write and easier to debug.</p>
</article>

        </section>

        <footer id="page_footer">
    <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC-4.0</a>
    &mdash;
    Built with 
    <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
    &mdash;
    Source on 
    <a href="https://github.com/Abizern/hblog">GitHub</a>
    &mdash;
    <a href="http://abizern.org/atom.xml">RSS feed</a>
</footer>

    </body>
</html>
